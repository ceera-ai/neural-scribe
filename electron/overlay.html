<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Recording Overlay</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
      background: transparent;
      overflow: hidden;
    }

    /* Base shadow layer - grounding effect */
    .shadow-layer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        linear-gradient(to top,
          rgba(0, 30, 40, 0.3) 0%,
          rgba(0, 20, 30, 0.15) 15%,
          transparent 35%);
      filter: blur(20px);
    }

    /* Main cloud layer */
    .cloud-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        /* Layer 1: Far background - bell curve shape */
        radial-gradient(ellipse 140% 50% at 5% 100%,
          rgba(0, 255, 255, 0.06) 0%,
          transparent 50%),
        radial-gradient(ellipse 120% 55% at 95% 100%,
          rgba(0, 255, 255, 0.06) 0%,
          transparent 50%),
        radial-gradient(ellipse 100% 90% at 50% 100%,
          rgba(0, 255, 255, 0.08) 0%,
          transparent 70%),

        /* Layer 2: Mid-background - bell curve */
        radial-gradient(ellipse 80% 60% at 15% 100%,
          rgba(0, 255, 255, 0.1) 0%,
          transparent 55%),
        radial-gradient(ellipse 80% 60% at 85% 100%,
          rgba(0, 255, 255, 0.1) 0%,
          transparent 55%),
        radial-gradient(ellipse 90% 110% at 50% 100%,
          rgba(0, 255, 255, 0.12) 0%,
          transparent 65%),

        /* Layer 3: Middle clouds - bell curve */
        radial-gradient(ellipse 60% 55% at 25% 100%,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 55%),
        radial-gradient(ellipse 60% 55% at 75% 100%,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 55%),
        radial-gradient(ellipse 70% 85% at 50% 100%,
          rgba(0, 255, 255, 0.2) 0%,
          transparent 65%),

        /* Layer 4: Foreground - strong bell curve */
        radial-gradient(ellipse 45% 60% at 20% 100%,
          rgba(0, 255, 255, 0.18) 0%,
          rgba(0, 255, 255, 0.08) 45%,
          transparent 55%),
        radial-gradient(ellipse 45% 60% at 80% 100%,
          rgba(0, 255, 255, 0.18) 0%,
          rgba(0, 255, 255, 0.08) 45%,
          transparent 55%),
        radial-gradient(ellipse 55% 95% at 50% 100%,
          rgba(0, 255, 255, 0.28) 0%,
          rgba(0, 255, 255, 0.12) 50%,
          transparent 65%),

        /* Layer 5: Accent peaks - tallest in center */
        radial-gradient(ellipse 30% 45% at 10% 100%,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 45%),
        radial-gradient(ellipse 30% 45% at 90% 100%,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 45%),
        radial-gradient(ellipse 35% 70% at 35% 100%,
          rgba(0, 255, 255, 0.25) 0%,
          rgba(0, 255, 255, 0.1) 40%,
          transparent 55%),
        radial-gradient(ellipse 35% 70% at 65% 100%,
          rgba(0, 255, 255, 0.25) 0%,
          rgba(0, 255, 255, 0.1) 40%,
          transparent 55%),
        radial-gradient(ellipse 40% 100% at 50% 100%,
          rgba(0, 255, 255, 0.38) 0%,
          rgba(0, 255, 255, 0.18) 45%,
          transparent 60%),

        /* Base glow - stronger in center */
        radial-gradient(ellipse 80% 40% at 50% 100%,
          rgba(0, 255, 255, 0.2) 0%,
          rgba(0, 255, 255, 0.08) 50%,
          transparent 70%);

      filter: blur(25px);
      /* Breathing now controlled by voice level via JavaScript */
      transform-origin: center bottom;
      transform: scaleY(1) scaleX(1);
      transition: transform 0.15s ease-out;
    }

    /* Highlight layer - light from above */
    .highlight-layer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        /* Center peak highlight */
        radial-gradient(ellipse 30% 60% at 50% 100%,
          rgba(150, 255, 255, 0.2) 0%,
          rgba(200, 255, 255, 0.1) 30%,
          transparent 50%),
        /* Left peak highlight */
        radial-gradient(ellipse 25% 45% at 35% 100%,
          rgba(150, 255, 255, 0.12) 0%,
          transparent 40%),
        /* Right peak highlight */
        radial-gradient(ellipse 25% 45% at 65% 100%,
          rgba(150, 255, 255, 0.12) 0%,
          transparent 40%),
        /* Rim light - top edges */
        radial-gradient(ellipse 35% 50% at 50% 100%,
          transparent 40%,
          rgba(200, 255, 255, 0.08) 50%,
          transparent 60%);
      filter: blur(15px);
      /* Controlled by voice level via JavaScript */
      transform-origin: center bottom;
      transform: scaleY(1) scaleX(1);
      transition: transform 0.15s ease-out;
      mix-blend-mode: screen;
    }

    /* Gradient color animation layer */
    .gradient-animation {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        radial-gradient(ellipse 50% 110% at 50% 100%,
          rgba(0, 170, 255, 0.15) 0%,
          transparent 50%);
      filter: blur(40px);
      /* Controlled by voice level via JavaScript */
      transform-origin: center bottom;
      transform: scaleY(1) scaleX(1);
      transition: transform 0.15s ease-out;
      mix-blend-mode: screen;
    }

    /* Inner glow spots */
    .glow-spots {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        radial-gradient(ellipse 15% 30% at 45% 100%,
          rgba(255, 255, 255, 0.08) 0%,
          transparent 50%),
        radial-gradient(ellipse 12% 25% at 55% 100%,
          rgba(255, 255, 255, 0.06) 0%,
          transparent 45%),
        radial-gradient(ellipse 10% 20% at 38% 100%,
          rgba(255, 255, 255, 0.05) 0%,
          transparent 40%);
      filter: blur(10px);
      /* Controlled by voice level via JavaScript */
      opacity: 0.6;
      transition: opacity 0.15s ease-out;
      mix-blend-mode: overlay;
    }

    /* ========== MAGENTA WAVE LAYER ========== */
    /* Container controlled by audio level via opacity + blend mode */
    .magenta-wave {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      /* Start hidden - controlled by JavaScript audio level */
      opacity: 0;
      /* Lighten blend mode - shows brighter of two colors, preserves magenta better */
      mix-blend-mode: lighten;
      /* Smooth transitions for audio-reactive movement */
      transition: opacity 0.15s ease-out;
    }

    /* Cyan glow boost layer - subtle intensification with audio */
    .cyan-boost {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        radial-gradient(ellipse 50% 100% at 50% 100%,
          rgba(0, 255, 255, 0.2) 0%,
          rgba(0, 255, 255, 0.1) 40%,
          transparent 60%),
        radial-gradient(ellipse 70% 80% at 30% 100%,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 50%),
        radial-gradient(ellipse 70% 80% at 70% 100%,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 50%);
      filter: blur(30px);
      opacity: 0;
      transition: opacity 0.15s ease-out;
    }

    /* Magenta cloud layer */
    .magenta-clouds {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        /* Layer 1: Far background - bell curve shape */
        radial-gradient(ellipse 140% 50% at 5% 100%,
          rgba(255, 0, 255, 0.06) 0%,
          transparent 50%),
        radial-gradient(ellipse 120% 55% at 95% 100%,
          rgba(255, 0, 255, 0.06) 0%,
          transparent 50%),
        radial-gradient(ellipse 100% 90% at 50% 100%,
          rgba(255, 0, 255, 0.08) 0%,
          transparent 70%),

        /* Layer 2: Mid-background - bell curve */
        radial-gradient(ellipse 80% 60% at 15% 100%,
          rgba(255, 0, 255, 0.1) 0%,
          transparent 55%),
        radial-gradient(ellipse 80% 60% at 85% 100%,
          rgba(255, 0, 255, 0.1) 0%,
          transparent 55%),
        radial-gradient(ellipse 90% 110% at 50% 100%,
          rgba(255, 0, 255, 0.12) 0%,
          transparent 65%),

        /* Layer 3: Middle clouds - bell curve */
        radial-gradient(ellipse 60% 55% at 25% 100%,
          rgba(255, 0, 255, 0.15) 0%,
          transparent 55%),
        radial-gradient(ellipse 60% 55% at 75% 100%,
          rgba(255, 0, 255, 0.15) 0%,
          transparent 55%),
        radial-gradient(ellipse 70% 85% at 50% 100%,
          rgba(255, 0, 255, 0.2) 0%,
          transparent 65%),

        /* Layer 4: Foreground - strong bell curve */
        radial-gradient(ellipse 45% 60% at 20% 100%,
          rgba(255, 0, 255, 0.18) 0%,
          rgba(255, 0, 255, 0.08) 45%,
          transparent 55%),
        radial-gradient(ellipse 45% 60% at 80% 100%,
          rgba(255, 0, 255, 0.18) 0%,
          rgba(255, 0, 255, 0.08) 45%,
          transparent 55%),
        radial-gradient(ellipse 55% 95% at 50% 100%,
          rgba(255, 0, 255, 0.28) 0%,
          rgba(255, 0, 255, 0.12) 50%,
          transparent 65%),

        /* Layer 5: Accent peaks - tallest in center */
        radial-gradient(ellipse 30% 45% at 10% 100%,
          rgba(255, 0, 255, 0.15) 0%,
          transparent 45%),
        radial-gradient(ellipse 30% 45% at 90% 100%,
          rgba(255, 0, 255, 0.15) 0%,
          transparent 45%),
        radial-gradient(ellipse 35% 70% at 35% 100%,
          rgba(255, 0, 255, 0.25) 0%,
          rgba(255, 0, 255, 0.1) 40%,
          transparent 55%),
        radial-gradient(ellipse 35% 70% at 65% 100%,
          rgba(255, 0, 255, 0.25) 0%,
          rgba(255, 0, 255, 0.1) 40%,
          transparent 55%),
        radial-gradient(ellipse 40% 100% at 50% 100%,
          rgba(255, 0, 255, 0.38) 0%,
          rgba(255, 0, 255, 0.18) 45%,
          transparent 60%),

        /* Base glow - stronger in center */
        radial-gradient(ellipse 80% 40% at 50% 100%,
          rgba(255, 0, 255, 0.2) 0%,
          rgba(255, 0, 255, 0.08) 50%,
          transparent 70%);

      filter: blur(25px);
      animation: breathe 3s ease-in-out infinite;
      transform-origin: center bottom;
    }

    /* Magenta highlight layer */
    .magenta-highlight {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        /* Center peak highlight */
        radial-gradient(ellipse 30% 60% at 50% 100%,
          rgba(255, 150, 255, 0.2) 0%,
          rgba(255, 200, 255, 0.1) 30%,
          transparent 50%),
        /* Left peak highlight */
        radial-gradient(ellipse 25% 45% at 35% 100%,
          rgba(255, 150, 255, 0.12) 0%,
          transparent 40%),
        /* Right peak highlight */
        radial-gradient(ellipse 25% 45% at 65% 100%,
          rgba(255, 150, 255, 0.12) 0%,
          transparent 40%),
        /* Rim light - top edges */
        radial-gradient(ellipse 35% 50% at 50% 100%,
          transparent 40%,
          rgba(255, 200, 255, 0.08) 50%,
          transparent 60%);
      filter: blur(15px);
      animation: highlightPulse 4s ease-in-out infinite;
      transform-origin: center bottom;
      mix-blend-mode: screen;
    }

    /* Magenta glow spots */
    .magenta-glow {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100%;
      background:
        radial-gradient(ellipse 15% 30% at 45% 100%,
          rgba(255, 255, 255, 0.08) 0%,
          transparent 50%),
        radial-gradient(ellipse 12% 25% at 55% 100%,
          rgba(255, 255, 255, 0.06) 0%,
          transparent 45%),
        radial-gradient(ellipse 10% 20% at 38% 100%,
          rgba(255, 255, 255, 0.05) 0%,
          transparent 40%);
      filter: blur(10px);
      animation: glowPulse 5s ease-in-out infinite;
      mix-blend-mode: overlay;
    }

    @keyframes breathe {
      0%, 100% {
        opacity: 1;
        transform: scaleY(1) scaleX(1);
      }
      50% {
        opacity: 0.88;
        transform: scaleY(1.06) scaleX(1.01);
      }
    }

    @keyframes highlightPulse {
      0%, 100% {
        opacity: 0.8;
        transform: scaleY(1) scaleX(1);
      }
      50% {
        opacity: 1;
        transform: scaleY(1.04) scaleX(1.01);
      }
    }

    @keyframes gradientShift {
      0%, 100% {
        opacity: 0.6;
        transform: scaleY(1) scaleX(1);
        filter: blur(40px) hue-rotate(0deg);
      }
      33% {
        opacity: 0.8;
        transform: scaleY(1.1) scaleX(1.05);
        filter: blur(35px) hue-rotate(15deg);
      }
      66% {
        opacity: 0.7;
        transform: scaleY(0.95) scaleX(1.02);
        filter: blur(45px) hue-rotate(-10deg);
      }
    }

    @keyframes glowPulse {
      0%, 100% {
        opacity: 0.6;
      }
      50% {
        opacity: 1;
      }
    }

    @keyframes colorWaveMask {
      0%, 100% {
        -webkit-mask-position: 0% 100%;
        mask-position: 0% 100%;
      }
      50% {
        -webkit-mask-position: 0% 0%;
        mask-position: 0% 0%;
      }
    }

    /* ========== AI ORB (Matching main app AIOrb) ========== */
    .overlay-orb {
      --orb-size: 120px;
      /* Color interpolation based on audio level (set via JS) */
      --audio-level: 0;
      --orb-color-primary: rgb(
        calc(0 + 255 * var(--audio-level)),
        calc(255 - 255 * var(--audio-level)),
        255
      );
      --orb-color-secondary: rgb(
        calc(0 + 255 * var(--audio-level)),
        calc(170 - 82 * var(--audio-level)),
        calc(255 - 167 * var(--audio-level))
      );

      position: absolute;
      bottom: 115px;
      left: 50%;
      transform: translateX(-50%);
      width: var(--orb-size);
      height: var(--orb-size);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Outer Glow */
    .orb-glow {
      position: absolute;
      inset: -20%;
      border-radius: 50%;
      background: radial-gradient(
        circle,
        var(--orb-color-primary) 0%,
        transparent 70%
      );
      opacity: 0.3;
      filter: blur(20px);
      transition: opacity 0.1s ease-out, transform 0.1s ease-out;
    }

    /* Orbital Rings Container */
    .orb-rings {
      position: absolute;
      inset: -10%;
      pointer-events: none;
    }

    .orb-ring {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      border: 1px solid var(--orb-color-primary);
      opacity: 0.35;
      transition: opacity 0.1s ease-out, border-color 0.1s ease-out;
    }

    .orb-ring--1 {
      animation: ring-rotate-1 1.5s linear infinite;
      transform: rotateX(70deg) rotateY(20deg);
    }

    .orb-ring--2 {
      animation: ring-rotate-2 2s linear infinite reverse;
      transform: rotateX(60deg) rotateY(-30deg);
      border-color: var(--orb-color-secondary);
    }

    .orb-ring--3 {
      animation: ring-rotate-3 2.5s linear infinite;
      transform: rotateX(80deg) rotateY(45deg);
      border-color: rgba(255, 0, 255, 0.5);
      opacity: 0.4;
    }

    @keyframes ring-rotate-1 {
      from { transform: rotateX(70deg) rotateY(20deg) rotateZ(0deg); }
      to { transform: rotateX(70deg) rotateY(20deg) rotateZ(360deg); }
    }

    @keyframes ring-rotate-2 {
      from { transform: rotateX(60deg) rotateY(-30deg) rotateZ(0deg); }
      to { transform: rotateX(60deg) rotateY(-30deg) rotateZ(360deg); }
    }

    @keyframes ring-rotate-3 {
      from { transform: rotateX(80deg) rotateY(45deg) rotateZ(0deg); }
      to { transform: rotateX(80deg) rotateY(45deg) rotateZ(360deg); }
    }

    /* Particles Container */
    .orb-particles {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .orb-particle {
      position: absolute;
      top: 50%;
      left: 50%;
      width: var(--particle-size, 4px);
      height: var(--particle-size, 4px);
      background: var(--orb-color-primary);
      border-radius: 50%;
      box-shadow: 0 0 6px var(--orb-color-primary);
      transform: rotate(var(--particle-angle)) translateX(var(--particle-distance));
      animation: particle-orbit var(--particle-duration, 2s) linear infinite;
      animation-delay: var(--particle-delay, 0s);
      opacity: 0.8;
      transition: background 0.1s ease-out, box-shadow 0.1s ease-out;
    }

    @keyframes particle-orbit {
      0% {
        transform: rotate(var(--particle-angle)) translateX(var(--particle-distance)) scale(1);
        opacity: 0.8;
      }
      50% {
        opacity: 0.4;
      }
      100% {
        transform: rotate(calc(var(--particle-angle) + 360deg)) translateX(var(--particle-distance)) scale(1);
        opacity: 0.8;
      }
    }

    /* Core Sphere */
    .orb-core {
      position: relative;
      width: 60%;
      height: 60%;
      border-radius: 50%;
      background: radial-gradient(
        circle at 50% 50%,
        rgba(255, 255, 255, 0.4) 0%,
        var(--orb-color-primary) 30%,
        var(--orb-color-secondary) 70%,
        rgba(20, 10, 40, 0.9) 100%
      );
      box-shadow:
        0 0 25px var(--orb-color-primary),
        0 0 50px var(--orb-color-primary),
        inset 0 0 25px rgba(0, 0, 0, 0.4);
      transition: box-shadow 0.08s ease-out, transform 0.1s ease-out, background 0.1s ease-out;
      animation: core-breathe 2s ease-in-out infinite;
    }

    .orb-core-inner {
      position: absolute;
      inset: 15%;
      border-radius: 50%;
      background: radial-gradient(
        circle at 50% 50%,
        rgba(255, 255, 255, 0.9) 0%,
        var(--orb-color-primary) 40%,
        transparent 70%
      );
      opacity: 0.5;
      animation: core-inner-pulse 2s ease-in-out infinite;
      transition: background 0.1s ease-out;
    }

    .orb-core-highlight {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      width: 40%;
      height: 25%;
      background: radial-gradient(
        ellipse,
        rgba(255, 255, 255, 0.7) 0%,
        transparent 70%
      );
      border-radius: 50%;
      filter: blur(3px);
    }

    @keyframes core-breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes core-inner-pulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.1); }
    }

    /* Arc Spectrum - frequency bars */
    .orb-spectrum {
      position: absolute;
      bottom: -40%;
      left: 50%;
      transform: translateX(-50%);
      width: 160%;
      height: 50%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 3px;
      opacity: 0.6;
      pointer-events: none;
    }

    .spectrum-bar {
      width: 4px;
      height: 4px;
      background: linear-gradient(
        to top,
        var(--orb-color-secondary) 0%,
        var(--orb-color-primary) 70%,
        rgba(255, 255, 255, 0.5) 100%
      );
      border-radius: 2px;
      box-shadow: 0 0 3px var(--orb-color-primary);
      transition: height 0.05s ease-out, background 0.1s ease-out, box-shadow 0.1s ease-out;
    }

    /* Arc shape for spectrum bars */
    .spectrum-bar:nth-child(1), .spectrum-bar:nth-child(24) { transform: translateY(0px); opacity: 0.5; }
    .spectrum-bar:nth-child(2), .spectrum-bar:nth-child(23) { transform: translateY(-4px); opacity: 0.6; }
    .spectrum-bar:nth-child(3), .spectrum-bar:nth-child(22) { transform: translateY(-8px); opacity: 0.7; }
    .spectrum-bar:nth-child(4), .spectrum-bar:nth-child(21) { transform: translateY(-12px); opacity: 0.8; }
    .spectrum-bar:nth-child(5), .spectrum-bar:nth-child(20) { transform: translateY(-15px); opacity: 0.85; }
    .spectrum-bar:nth-child(6), .spectrum-bar:nth-child(19) { transform: translateY(-18px); opacity: 0.9; }
    .spectrum-bar:nth-child(7), .spectrum-bar:nth-child(18) { transform: translateY(-20px); opacity: 0.92; }
    .spectrum-bar:nth-child(8), .spectrum-bar:nth-child(17) { transform: translateY(-22px); opacity: 0.95; }
    .spectrum-bar:nth-child(9), .spectrum-bar:nth-child(16) { transform: translateY(-23px); opacity: 0.97; }
    .spectrum-bar:nth-child(10), .spectrum-bar:nth-child(15) { transform: translateY(-24px); opacity: 0.98; }
    .spectrum-bar:nth-child(11), .spectrum-bar:nth-child(14) { transform: translateY(-24.5px); opacity: 1; }
    .spectrum-bar:nth-child(12), .spectrum-bar:nth-child(13) { transform: translateY(-25px); opacity: 1; }

    /* ========== STATUS PILL BAR (Cyberpunk Theme) ========== */
    .status-pill {
      position: absolute;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 12px 24px;
      background: linear-gradient(135deg, rgba(10, 10, 20, 0.85) 0%, rgba(20, 10, 30, 0.85) 100%);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 12px;
      border: 1px solid rgba(0, 255, 255, 0.3);
      box-shadow:
        0 4px 24px rgba(0, 0, 0, 0.5),
        0 0 20px rgba(0, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      z-index: 100;
      overflow: hidden;
    }

    /* Animated background gradient */
    .status-pill::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 255, 255, 0.05) 25%,
        rgba(255, 0, 255, 0.05) 50%,
        rgba(0, 255, 255, 0.05) 75%,
        transparent
      );
      animation: shimmer 4s ease-in-out infinite;
      z-index: 0;
      pointer-events: none;
    }

    .status-pill > * {
      position: relative;
      z-index: 1;
    }

    @keyframes shimmer {
      0% {
        left: -100%;
      }
      100% {
        left: 100%;
      }
    }

    .status-icon {
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Pulsing microphone dot */
    .mic-dot {
      width: 10px;
      height: 10px;
      background: linear-gradient(135deg, #00ffff, #ff00ff);
      border-radius: 50%;
      animation: micPulse 1.5s ease-in-out infinite;
      box-shadow: 0 0 10px rgba(255, 0, 255, 0.6), 0 0 20px rgba(0, 255, 255, 0.4);
    }

    .status-divider {
      width: 1px;
      height: 20px;
      background: linear-gradient(to bottom, transparent, rgba(0, 255, 255, 0.4), transparent);
    }

    /* Status pill buttons */
    .status-pill-button {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: rgba(0, 255, 255, 0.1);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 6px;
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 11px;
      font-weight: 600;
      color: #00ffff;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .status-pill-button:hover {
      background: rgba(0, 255, 255, 0.2);
      border-color: rgba(0, 255, 255, 0.5);
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 255, 255, 0.3);
    }

    .status-pill-button.stop {
      background: rgba(255, 0, 100, 0.1);
      border-color: rgba(255, 0, 100, 0.3);
      color: #ff0064;
    }

    .status-pill-button.stop:hover {
      background: rgba(255, 0, 100, 0.2);
      border-color: rgba(255, 0, 100, 0.5);
      box-shadow: 0 2px 8px rgba(255, 0, 100, 0.3);
    }

    .status-pill-button svg {
      width: 14px;
      height: 14px;
    }

    .recording-time {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
      font-size: 13px;
      font-weight: 600;
      color: #00ffff;
      text-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
      letter-spacing: 1px;
      min-width: 36px;
    }

    .status-text {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 12px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.7);
      letter-spacing: 0.3px;
    }

    .status-key {
      display: inline-flex;
      align-items: center;
      padding: 3px 8px;
      background: linear-gradient(135deg, rgba(0, 255, 255, 0.15) 0%, rgba(255, 0, 255, 0.15) 100%);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 4px;
      font-family: 'SF Mono', 'Monaco', monospace;
      font-size: 11px;
      font-weight: 600;
      color: #00ffff;
      text-shadow: 0 0 6px rgba(0, 255, 255, 0.4);
      letter-spacing: 0.5px;
    }

    @keyframes micPulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
        box-shadow: 0 0 10px rgba(255, 0, 255, 0.6), 0 0 20px rgba(0, 255, 255, 0.4);
      }
      50% {
        transform: scale(1.15);
        opacity: 0.8;
        box-shadow: 0 0 15px rgba(255, 0, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.6);
      }
    }

    /* ========== VOICE COMMANDS CARD ========== */
    .voice-commands-card {
      position: absolute;
      bottom: 24px;
      right: 40px;
      min-width: 160px;
      padding: 12px 16px;
      background: linear-gradient(135deg, rgba(10, 10, 20, 0.85) 0%, rgba(20, 10, 30, 0.85) 100%);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 8px;
      border: 1px solid rgba(255, 0, 255, 0.3);
      box-shadow:
        0 4px 24px rgba(0, 0, 0, 0.5),
        0 0 20px rgba(255, 0, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      z-index: 100;
    }

    .voice-commands-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(255, 0, 255, 0.2);
    }

    .voice-commands-icon {
      width: 14px;
      height: 14px;
      color: #ff00ff;
      opacity: 0.8;
    }

    .voice-commands-title {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 11px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.6);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .voice-cmd-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 4px 0;
    }

    .voice-cmd-phrase {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 12px;
      font-weight: 500;
      color: #ff00ff;
      text-shadow: 0 0 6px rgba(255, 0, 255, 0.4);
    }

    .voice-cmd-action {
      font-family: 'SF Mono', 'Monaco', monospace;
      font-size: 10px;
      font-weight: 600;
      color: rgba(0, 255, 255, 0.7);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 2px 6px;
      background: rgba(0, 255, 255, 0.1);
      border-radius: 3px;
      border: 1px solid rgba(0, 255, 255, 0.2);
    }

    /* ========== TRANSCRIPT PREVIEW CARD - REMOVED ========== */
    .transcript-card {
      display: none;
    }

    .transcript-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    }

    .transcript-header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .transcript-icon {
      width: 14px;
      height: 14px;
      color: #00ffff;
      opacity: 0.8;
    }

    .transcript-title {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 11px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.6);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .word-count-badge {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      background: rgba(0, 255, 255, 0.1);
      border: 1px solid rgba(0, 255, 255, 0.2);
      border-radius: 10px;
    }

    .word-count-value {
      font-family: 'SF Mono', 'Monaco', monospace;
      font-size: 11px;
      font-weight: 600;
      color: #00ffff;
      text-shadow: 0 0 6px rgba(0, 255, 255, 0.4);
    }

    .word-count-label {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 9px;
      color: rgba(255, 255, 255, 0.5);
      text-transform: uppercase;
    }

    .transcript-preview-text {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 13px;
      font-weight: 400;
      color: rgba(255, 255, 255, 0.85);
      line-height: 1.4;
      min-height: 36px;
      word-break: break-word;
    }

    .transcript-preview-text:empty::before {
      content: 'Listening...';
      color: rgba(255, 255, 255, 0.4);
      font-style: italic;
    }

    /* ========== STATUS INDICATORS ========== */
    .status-indicators {
      position: absolute;
      bottom: 90px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 100;
    }

    .connection-status {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      background: rgba(10, 10, 20, 0.7);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .connection-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .connection-dot.connected {
      background: #00ff88;
      box-shadow: 0 0 8px rgba(0, 255, 136, 0.6);
    }

    .connection-dot.disconnected {
      background: #ff4444;
      box-shadow: 0 0 8px rgba(255, 68, 68, 0.6);
      animation: pulse-error 1s ease-in-out infinite;
    }

    @keyframes pulse-error {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .connection-label {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 10px;
      color: rgba(255, 255, 255, 0.5);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .formatting-badge {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      background: rgba(10, 10, 20, 0.7);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .formatting-badge.enabled {
      border-color: rgba(0, 255, 255, 0.3);
    }

    .formatting-badge.disabled {
      border-color: rgba(255, 255, 255, 0.1);
    }

    .formatting-icon {
      width: 12px;
      height: 12px;
      color: rgba(255, 255, 255, 0.5);
    }

    .formatting-badge.enabled .formatting-icon {
      color: #00ffff;
    }

    .formatting-label {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      font-size: 10px;
      color: rgba(255, 255, 255, 0.5);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .formatting-value {
      font-family: 'SF Mono', 'Monaco', monospace;
      font-size: 10px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.4);
    }

    .formatting-badge.enabled .formatting-value {
      color: #00ffff;
      text-shadow: 0 0 6px rgba(0, 255, 255, 0.4);
    }

    /* ========== SUBTLE WAVEFORM ========== */
    .waveform-container {
      position: absolute;
      bottom: 56px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 2px;
      height: 20px;
      z-index: 99;
    }

    .waveform-bar {
      width: 3px;
      height: 4px;
      background: linear-gradient(to top, rgba(0, 255, 255, 0.4), rgba(255, 0, 255, 0.4));
      border-radius: 1.5px;
      transition: height 0.08s ease-out;
    }

    /* ========== FOCUS MODE TYPEWRITER ========== */
    .focus-mode {
      position: absolute;
      top: 58%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70%;
      max-width: 800px;
      height: 200px;
      z-index: 150;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      overflow: hidden;
      /* Gradient mask - fades out at top, clear at bottom where current text is */
      -webkit-mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        rgba(0, 0, 0, 0.1) 15%,
        rgba(0, 0, 0, 0.3) 30%,
        rgba(0, 0, 0, 0.6) 50%,
        rgba(0, 0, 0, 0.85) 70%,
        black 85%,
        black 100%
      );
      mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        rgba(0, 0, 0, 0.1) 15%,
        rgba(0, 0, 0, 0.3) 30%,
        rgba(0, 0, 0, 0.6) 50%,
        rgba(0, 0, 0, 0.85) 70%,
        black 85%,
        black 100%
      );
    }

    .focus-mode-content {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 20px;
      min-height: 100%;
    }

    /* Individual lines container */
    .focus-lines {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
    }

    .focus-line {
      font-family: 'Share Tech Mono', monospace, -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 20px;
      font-weight: 400;
      line-height: 1.7;
      color: #00e5ff;
      text-align: center;
      padding: 6px 16px;
      background: rgba(0, 10, 20, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 6px;
      display: inline-block;
      transition: all 0.3s ease;
      text-shadow:
        0 0 10px rgba(0, 229, 255, 0.3),
        0 0 20px rgba(0, 229, 255, 0.15);
    }

    /* Current/active line - full brightness with glow */
    .focus-line.current {
      color: #ffffff;
      font-weight: 500;
      background: rgba(0, 10, 20, 0.8);
      text-shadow:
        0 0 8px rgba(0, 255, 255, 0.4),
        0 0 16px rgba(0, 255, 255, 0.3),
        0 0 24px rgba(255, 0, 255, 0.15);
    }

    /* Typing cursor effect */
    .focus-cursor {
      display: inline-block;
      width: 2px;
      height: 1.2em;
      background: linear-gradient(180deg, #00ffff, #ff00ff);
      margin-left: 4px;
      vertical-align: text-bottom;
      animation: cursorBlink 1s ease-in-out infinite;
      box-shadow: 0 0 8px rgba(0, 255, 255, 0.6), 0 0 16px rgba(255, 0, 255, 0.4);
    }

    @keyframes cursorBlink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    /* Placeholder when no text */
    .focus-placeholder {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 20px;
      font-weight: 400;
      color: rgba(255, 255, 255, 0.25);
      text-align: center;
      font-style: italic;
      text-shadow: 0 0 20px rgba(0, 255, 255, 0.1);
    }

    /* Cyberpunk decorative elements */
    .focus-mode::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 1px;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 255, 255, 0.3) 20%,
        rgba(0, 255, 255, 0.5) 50%,
        rgba(0, 255, 255, 0.3) 80%,
        transparent
      );
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
    }

    /* Side accent lines */
    .focus-mode::after {
      content: '';
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 40%;
      height: 1px;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 0, 255, 0.2) 30%,
        rgba(255, 0, 255, 0.3) 50%,
        rgba(255, 0, 255, 0.2) 70%,
        transparent
      );
    }

    /* Word count floating badge */
    .focus-word-count {
      position: absolute;
      bottom: -30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      background: rgba(10, 10, 20, 0.6);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 12px;
      border: 1px solid rgba(0, 255, 255, 0.2);
    }

    .focus-word-count-value {
      font-family: 'SF Mono', 'Monaco', monospace;
      font-size: 12px;
      font-weight: 600;
      color: #00ffff;
      text-shadow: 0 0 6px rgba(0, 255, 255, 0.4);
    }

    .focus-word-count-label {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 10px;
      color: rgba(255, 255, 255, 0.4);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
  </style>
</head>
<body>
  <!-- Cyan base layers -->
  <div class="shadow-layer"></div>
  <div class="cloud-overlay"></div>
  <div class="highlight-layer"></div>
  <div class="gradient-animation"></div>
  <div class="glow-spots"></div>

  <!-- Cyan boost layer - intensifies with audio -->
  <div class="cyan-boost"></div>

  <!-- Magenta wave overlay (blends with cyan via screen mode) -->
  <div class="magenta-wave">
    <div class="magenta-clouds"></div>
    <div class="magenta-highlight"></div>
    <div class="magenta-glow"></div>
  </div>

  <!-- Focus Mode Typewriter Display (Centered) -->
  <div class="focus-mode" id="focus-mode">
    <div class="focus-mode-content">
      <div class="focus-lines" id="focus-lines">
        <div class="focus-placeholder" id="focus-placeholder">Listening...</div>
      </div>
    </div>
    <div class="focus-word-count">
      <span class="focus-word-count-value" id="focus-word-count">0</span>
      <span class="focus-word-count-label">words</span>
    </div>
  </div>

  <!-- Status pill indicator (Cyberpunk themed) -->
  <div class="status-pill">
    <div class="status-icon">
      <div class="mic-dot"></div>
    </div>
    <span class="recording-time" id="recording-time">0:00</span>
    <div class="status-divider"></div>

    <!-- Stop Button -->
    <button class="status-pill-button stop">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <rect x="6" y="6" width="12" height="12" rx="2" />
      </svg>
      Stop
    </button>

    <!-- Paste to Terminal Button -->
    <button class="status-pill-button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 5v14M5 12l7 7 7-7" />
      </svg>
      Paste
    </button>

    <!-- Clear Button -->
    <button class="status-pill-button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
      </svg>
      Clear
    </button>
  </div>

  <!-- Transcript Preview Card (Left side) -->
  <div class="transcript-card">
    <div class="transcript-header">
      <div class="transcript-header-left">
        <svg class="transcript-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
        </svg>
        <span class="transcript-title">Live Preview</span>
      </div>
      <div class="word-count-badge">
        <span class="word-count-value" id="word-count">0</span>
        <span class="word-count-label">words</span>
      </div>
    </div>
    <div class="transcript-preview-text" id="transcript-preview"></div>
  </div>

  <!-- Status Indicators (Above status pill) -->
  <div class="status-indicators">
    <div class="connection-status">
      <div class="connection-dot connected" id="connection-dot"></div>
      <span class="connection-label" id="connection-label">Connected</span>
    </div>
    <div class="formatting-badge enabled" id="formatting-badge">
      <svg class="formatting-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="4 7 4 4 20 4 20 7"></polyline>
        <line x1="9" y1="20" x2="15" y2="20"></line>
        <line x1="12" y1="4" x2="12" y2="20"></line>
      </svg>
      <span class="formatting-label">Format</span>
      <span class="formatting-value" id="formatting-value">ON</span>
    </div>
  </div>

  <!-- Subtle Waveform (Between indicators and status pill) -->
  <div class="waveform-container" id="waveform">
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
    <div class="waveform-bar"></div>
  </div>

  <!-- Voice Commands Card (Right side) -->
  <div class="voice-commands-card">
    <div class="voice-commands-header">
      <svg class="voice-commands-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
        <line x1="12" y1="19" x2="12" y2="23"></line>
        <line x1="8" y1="23" x2="16" y2="23"></line>
      </svg>
      <span class="voice-commands-title">Voice Commands</span>
    </div>
    <div id="voice-commands-list">
      <div class="voice-cmd-item">
        <span class="voice-cmd-phrase">"send it"</span>
        <span class="voice-cmd-action">Send</span>
      </div>
    </div>
  </div>
</body>
</html>
